<!DOCTYPE html>
<html lang="es">
<%- include('partials/head') %>

<body>
    <%- include('partials/header') %>

    <main class="home-main">
        <section class="banner">
            <div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="carousel">
                <div class="carousel-indicators">
                    <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0"
                        class="active" aria-current="true" aria-label="Slide 1"></button>
                    <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1"
                        aria-label="Slide 2"></button>
                    <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2"
                        aria-label="Slide 3"></button>
                </div>
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <img src="/images/Banner-pincel.jpg" class="d-block w-100" alt="..." />
                    </div>
                    <div class="carousel-item">
                        <img src="/images/banner-of-n.jpg" class="d-block w-100" alt="..." />
                    </div>
                    <div class="carousel-item">
                        <img src="/images/banner-escuela.jpg" class="d-block w-100" alt="..." />
                    </div>
                </div>
                <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators"
                    data-bs-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Previous</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators"
                    data-bs-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Next</span>
                </button>
            </div>
        </section>
        <section class="main-section">
            <% if (products.length === 0) { %>
                <h3 class="destacado" style="padding: 150px 0;">No hay productos disponibles <i class="fa-solid fa-heart-crack"></i></h3>
                <% }else { %>
        
                    <h3 class="destacado">Productos destacados</h3>
                    <section class="productos">
                <section class="destacados">
                    <div class="glider-contain">
                        <div class="glider">
                            <% products.forEach(product => { %>
                                    <div>
                                        <section class="art">
                                            <article class="prod">
                                                <a href="/products/detail/<%= product.id %>"><img src="/images/<%= product.image %>"
                                                    alt="" /></a>
                                                    <% if (product.discount > 0) { %>
                                                        <p class="price"><span><%= product.discount %>% OFF</span> <br> $ <%= toThousand(calcDescuento(product.price, product.discount)) %></p>    
                                                        <% } else { %>
                                                            <p class="price">$ <%= toThousand(product.price) %></p>
                                                            <% } %>
                                                            <div class="botones">
                                                    <!-- <input class="cant-prod" type="number" value="1" min="1"> -->
                                                    <a class="agregar"  href="#" onclick="addItem(event, '<%=product.id%>')"><i class="fas fa-cart-plus"></i></a>
                                                </div>
                                                <div class="detalles-producto">
                                                    <p><%= product.name %></p>
                                                </div>
                                            </article>
                                        </section>
                                    </div>
                                    <% }) %>
                        </div>
                        <button aria-label="Previous" class="glider-prev">«</button>
                        <button aria-label="Next" class="glider-next">»</button>
                        <div role="tablist" class="dots" id="dots"></div>
                    </div>
                </section>
                <h3>Ofertas</h3>
                <section id="ofertas" class="ofertas">
                    <% ofertas.forEach(product => { %>

                        <% if (product.discount > 0) { %>
                            <section class="art">
                                <article class="prod">
                                    <a href="/products/detail/<%= product.id %>"><img src="/images/<%= product.image %> "
                                        alt="" /></a>
                                        <p class="price"><span><%= product.discount %>% OFF</span> <br> $ <%= toThousand(calcDescuento(product.price, product.discount)) %></p>
                                        <div class="botones"> 
                                                <a class="agregar"  href="#" onclick="addItem(event, '<%=product.id%>')"><i class="fas fa-cart-plus"></i></a>
                                            </div>
                                            <div class="detalles-producto">
                                                <p class="prod-name"><%= product.name %></p>
                                            </div>
                                        </article>
                                    </section>
                                    <% } %>
                                    
                                <% }) %>
                </section>
            </section>
            <div class="carg-productos">
                <a href="/products/product-list">Ver más</a>
            </div>
            <% } %>
        </section>
    </main>
    <%- include('partials/footer') %>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-U1DAWAznBHeqEIlVSCgzq+c9gqGAJn5c/t99JyeKa9xxaYpSvHU5awsuZVVFIhvj" crossorigin="anonymous">
    </script>
    <script src="/js/glider.js"></script>
    <script src="/js/productDetail.js"></script>
</body>

</html>

<!--  -->

<!-- <a href="">Iniciar sesión</a>   
            <a href="">Registrarse</a> -->